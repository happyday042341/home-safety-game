<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å±…å®¶å®‰å…¨å®ˆè­·è€… - æ‰¾å‡ºæ½›åœ¨å±éšª</title>
  <style>
    body { font-family: 'Microsoft JhengHei', Arial, sans-serif; background: #f0f0f0; margin: 0; padding: 20px; }
    .game-container { max-width: 1200px; margin: auto; background: white; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .game-header { background: linear-gradient(135deg, #ff6b6b, #ee5a24); color: white; padding: 20px; text-align: center; }
    .game-title { font-size: 2rem; margin: 0; }
    .instructions { padding: 20px; background: #e3f2fd; border-left: 5px solid #2196f3; }
    .image-container { position: relative; display: flex; justify-content: center; padding: 20px; background: #fafafa; }
    .house-image { max-width: 900px; width: 100%; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    .danger-point { position: absolute; width: 30px; height: 30px; border-radius: 50%; border: 3px solid red; display: none; }
    .danger-point.revealed { display: block; animation: pulse 2s infinite; }
    @keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(255,0,0,0.7);} 70%{box-shadow:0 0 0 20px rgba(255,0,0,0);} 100%{box-shadow:0 0 0 0 rgba(255,0,0,0);} }
    .protection-sticker { position: absolute; width: 50px; height: 50px; border-radius: 50%; background: green; color: white; display: flex; align-items: center; justify-content: center; }
    .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); justify-content: center; align-items: center; }
    .modal-content { background: white; padding: 20px; border-radius: 10px; text-align: center; max-width: 400px; }
  </style>
</head>
<body>
  <div class="game-container">
    <div class="game-header">
      <h1 class="game-title">ğŸ  å±…å®¶å®‰å…¨å®ˆè­·è€…</h1>
      <p>æ‰¾å‡ºæ½›åœ¨å±éšªï¼Œè²¼ä¸Šå®ˆè­·æ¨™ç±¤ä¿è­·å®¶äººå®‰å…¨</p>
    </div>
    <div class="instructions">
      <h3>ğŸ¯ éŠæˆ²èªªæ˜</h3>
      <p>é»æ“Šåœ–ç‰‡ä¸­çš„å±éšªé»ï¼Œè²¼ä¸Šå®ˆè­·æ¨™ç±¤ï¼</p>
    </div>
    <div class="image-container">
      <img id="house-image" class="house-image" src="https://i.postimg.cc/zGxLCdrT/Chat-GPT-Image-2025-7-2-02-52-51.png" alt="å±…å®¶å®‰å…¨æª¢æŸ¥åœ–" />
    </div>
  </div>
  <div class="modal" id="danger-modal">
    <div class="modal-content">
      <h2 id="modal-title"></h2>
      <p id="modal-description"></p>
      <button onclick="closeDangerModal()">è²¼ä¸Šå®ˆè­·æ¨™ç±¤ ğŸ›¡ï¸</button>
    </div>
  </div>
  <script>
    const dangerData = [
  // å»šæˆ¿
  { x: 20, y: 28, title: "å»šæˆ¿çˆç«æ²’é—œ", description: "é‹å­åœ¨çˆä¸Šç…®æ±è¥¿ä½†æ²’é—œç«ä¹Ÿæ²’è“‹é‹è“‹ï¼Œæœ‰ç«ç½å’Œç‡™å‚·é¢¨éšªã€‚", room: "å»šæˆ¿" },
  { x: 14, y: 32, title: "åˆ€å…·æœªæ”¶ç´", description: "åˆ€å­æ”¾åœ¨æ¡Œä¸Šæ²’æ”¶å¥½ï¼Œå®¹æ˜“é€ æˆå‰²å‚·ï¼Œæ‡‰æ”¾å…¥åˆ€æ¶æˆ–æŠ½å±œã€‚", room: "å»šæˆ¿" },
  { x: 10, y: 35, title: "ç“¦æ–¯çˆæ—æ¯›å·¾", description: "ç“¦æ–¯çˆé‚Šæ™¾æ¯›å·¾æœ‰ç«ç½é¢¨éšªï¼Œæ¯›å·¾æ‡‰é é›¢ç«æºæ™¾æ›¬ã€‚", room: "å»šæˆ¿" },

  // å®¢å»³
  { x: 58, y: 20, title: "çª—ç°¾æ‹‰ç¹©", description: "ä½æ›çš„çª—ç°¾æ‹‰ç¹©æ²’æœ‰ç¶èµ·ä¾†ï¼Œå¯èƒ½é€ æˆå¹¼å…’çºç¹å±éšªï¼Œæ‡‰ç¶é«˜æˆ–ä½¿ç”¨å®‰å…¨æ‰£ã€‚", room: "å®¢å»³" },
  { x: 70, y: 28, title: "è—¥å“æ”¾ç½®ä¸ç•¶", description: "èŒ¶å‡ ä¸Šæ”¾ç½®è—¥å“ï¼Œå¹¼å…’å®¹æ˜“èª¤é£Ÿï¼Œæ‡‰æ”¾åœ¨é«˜è™•æˆ–ä¸Šé–æ«ƒå­è£¡ã€‚", room: "å®¢å»³" },
  { x: 53, y: 32, title: "æ¡Œè§’é‹’åˆ©", description: "èŒ¶å‡ å››è§’é‹’åˆ©ï¼Œå¹¼å…’è·‘å‹•æ™‚å®¹æ˜“æ’å‚·ï¼Œæ‡‰å®‰è£é˜²æ’è§’å¥—ã€‚", room: "å®¢å»³" },
  { x: 83, y: 40, title: "é›»æš–çˆæ”¾åœ°ä¸Š", description: "é›»æš–çˆæ”¾åœ¨åœ°ä¸Šï¼Œå¹¼å…’å¯èƒ½æ‹‰æ‰¯é›»ç·šç‡™å‚·ï¼Œæ‡‰æ”¾åœ¨å®‰å…¨é«˜è™•ã€‚", room: "å®¢å»³" },
  { x: 75, y: 20, title: "çª—å°éä½", description: "çª—æˆ¶çª—å°é«˜åº¦å¾ˆä½ï¼Œå¹¼å…’å®¹æ˜“çˆ¬ä¸Šè·Œè½ï¼Œæ‡‰å®‰è£çª—æˆ¶å®‰å…¨é–ã€‚", room: "å®¢å»³" },

  // æˆ¿é–“
  { x: 33, y: 70, title: "å¬°å…’åºŠç„¡è­·æ¬„", description: "å¬°å…’åºŠé‚Šæ²’æœ‰è­·æ¬„ï¼Œå¬°å…’å¯èƒ½è·Œè½ï¼Œæ‡‰å®‰è£åºŠé‚Šè­·æ¬„ã€‚", room: "æˆ¿é–“" },
  { x: 22, y: 75, title: "åœ°é¢æ•£è½å°é›¶ä»¶", description: "å°é›¶ä»¶æ‰åœ¨åœ°ä¸Šï¼Œå¬°å…’å¯èƒ½èª¤é£Ÿçª’æ¯ï¼Œæ‡‰ç«‹å³æ¸…ç†ã€‚", room: "æˆ¿é–“" },

  // æµ´å®¤
  { x: 70, y: 75, title: "åœ°æ¿æ¿•æ»‘", description: "æµ´å®¤åœ°æ¿æ¿•æ»‘æ²’æœ‰é˜²æ»‘å¢Šï¼Œå®¹æ˜“æ»‘å€’å—å‚·ï¼Œæ‡‰é‹ªè¨­é˜²æ»‘å¢Šã€‚", room: "æµ´å®¤" },
  { x: 78, y: 65, title: "å‰ªåˆ€æ”¾æ´—æ‰‹å°", description: "å‰ªåˆ€æ”¾åœ¨æ´—æ‰‹å°ä¸Šï¼Œå¹¼å…’å®¹æ˜“æ‹¿åˆ°å—å‚·ï¼Œæ‡‰æ”¶ç´åœ¨å®‰å…¨è™•ã€‚", room: "æµ´å®¤" },
  { x: 65, y: 68, title: "æ¸…æ½”åŠ‘äº‚æ”¾", description: "æ¸…æ½”åŠ‘æ”¾åœ¨åœ°ä¸Šï¼Œå¹¼å…’å¯èƒ½èª¤é£Ÿä¸­æ¯’ï¼Œæ‡‰æ”¾åœ¨é«˜è™•æˆ–ä¸Šé–æ«ƒå­ã€‚", room: "æµ´å®¤" }
];

    let foundDangers = [];
    let currentDangerIndex = -1;

    function initGame() {
      const image = document.getElementById('house-image');
      image.addEventListener('click', (event) => {
        const rect = image.getBoundingClientRect();
        const x = ((event.clientX - rect.left) / rect.width) * 100;
        const y = ((event.clientY - rect.top) / rect.height) * 100;
        dangerData.forEach((danger, index) => {
          if (foundDangers.includes(index)) return;
          const dist = Math.hypot(x - danger.x, y - danger.y);
          if (dist <= 8) { revealDangerPoint(index); openDangerModal(index); }
        });
      });
      dangerData.forEach((danger, index) => {
        const point = document.createElement('div');
        point.className = 'danger-point';
        point.style.left = danger.x + '%'; point.style.top = danger.y + '%';
        document.querySelector('.image-container').appendChild(point);
      });
    }

    function revealDangerPoint(index) {
      document.querySelectorAll('.danger-point')[index].classList.add('revealed');
    }

    function openDangerModal(index) {
      currentDangerIndex = index;
      document.getElementById('modal-title').textContent = `ğŸš¨ ${dangerData[index].room} - ${dangerData[index].title}`;
      document.getElementById('modal-description').textContent = dangerData[index].description;
      document.getElementById('danger-modal').style.display = 'flex';
    }

    function closeDangerModal() {
      document.getElementById('danger-modal').style.display = 'none';
      if (currentDangerIndex !== -1) {
        foundDangers.push(currentDangerIndex);
        const sticker = document.createElement('div');
        sticker.className = 'protection-sticker';
        sticker.style.left = dangerData[currentDangerIndex].x + '%';
        sticker.style.top = dangerData[currentDangerIndex].y + '%';
        sticker.innerHTML = 'ğŸ›¡ï¸';
        document.querySelector('.image-container').appendChild(sticker);
      }
    }

    window.onload = initGame;
  </script>
</body>
</html>